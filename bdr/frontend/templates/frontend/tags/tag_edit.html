{% extends "bdr/base.html" %}

{% block title %}Editing #{{ tag.name }}{% endblock %}

{% block sidebar %}
    <nav>
        <h2>Actions</h2>
        <ul class="nav nav-pills nav-stacked">
            <li role="presentation"><a href="{% url 'bdr.frontend:tag-detail' name=form.initial.name %}">
                <span class="glyphicon glyphicon-file" aria-hidden="true"></span> View
            </a></li>
            <li class="active" role="presentation"><a href="{% url 'bdr.frontend:tag-edit' name=form.initial.name %}">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
            </a></li>
            <li role="presentation"><a href="{% url 'bdr.frontend:tag-delete' name=form.initial.name %}">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete
            </a></li>
        </ul>
    </nav>
{% endblock %}

{% block content %}
    <header class="page-header">
        <h1>#{{ object.name }}</h1>
    </header>
    <section>
    <form class="form-horizontal" action="{% url 'bdr.frontend:tag-edit' name=form.initial.name %}" method="post">
        {% csrf_token %}
        {% for field in form.hidden_fields %}
            {{ field }}
        {% endfor %}

        {% with form_errors=form.non_field_errors %}
        {% if form_errors %}
        <ul class="errorlist text-danger">
        {% for error in form_errors %}
            <li>{{ error }}</li>
        {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}

        {% for field in form.visible_fields %}
            {% include 'frontend/fragments/field.html' %}
        {% endfor %}

        <div class="form-group">
            <div class="form-inline col-xs-12 text-right">
                <input type="submit" class="btn btn-primary" value="Save">
                <a class="btn btn-default" href="{% url 'bdr.frontend:tag-detail' name=form.initial.name %}">Cancel</a>
            </div>
        </div>
    </form>
    </section>
{% endblock %}
